


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Management API &mdash; PyTorch/Serve master documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/katex-math.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="TorchServe Metrics" href="metrics.html" />
    <link rel="prev" title="Logging in Torchserve" href="logging.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <div class="ecosystem-dropdown">
              <a id="dropdownMenuButton" data-toggle="ecosystem-dropdown">
                Ecosystem
              </a>
              <div class="ecosystem-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/hub"">
                  <span class=dropdown-title>Models (Beta)</span>
                  <p>Discover, publish, and reuse pre-trained models</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/ecosystem">
                  <span class=dropdown-title>Tools & Libraries</span>
                  <p>Explore the ecosystem of tools and libraries</p>
                </a>
              </div>
            </div>
          </li>

          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li>
            <a href="https://pytorch.org/docs/stable/index.html">Docs</a>
          </li>

          <li>
            <div class="resources-dropdown">
              <a id="resourcesDropdownButton" data-toggle="resources-dropdown">
                Resources
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/resources"">
                  <span class=dropdown-title>Developer Resources</span>
                  <p>Find resources and get questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/features">
                  <span class=dropdown-title>About</span>
                  <p>Learn about PyTorch’s features and capabilities</p>
                </a>
              </div>
            </div>
          </li>

          <li>
            <a href="https://github.com/pytorch/pytorch">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>

  </div>
</div>


<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
                <div class="version">
                  master 
                </div>
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Core APIs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="inference_api.html">Inference API</a></li>
<li class="toctree-l1"><a class="reference internal" href="default_handlers.html">TorchServe default inference handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="default_handlers.html#common-features">Common features</a></li>
<li class="toctree-l1"><a class="reference internal" href="default_handlers.html#contributing">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging in Torchserve</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Management API</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">TorchServe Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest_api.html">TorchServe REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Advanced configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">TorchServe Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="server.html">Running TorchServe</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_inference_with_ts.html">Batch Inference with TorchServe</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_service.html">Contents of this Document</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_service.html#custom-handlers">Custom handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_service.html#creating-a-model-archive-with-an-entry-point">Creating a model archive with an entry point</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_service.html#handling-model-execution-on-multiple-gpus">Handling model execution on multiple GPUs</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_service.html#installing-model-specific-python-dependencies">Installing model specific python dependencies</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
      <li>Management API</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="_sources/management_api.md.txt" rel="nofollow"><img src="_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <div class="section" id="management-api">
<h1>Management API<a class="headerlink" href="#management-api" title="Permalink to this headline">¶</a></h1>
<p>TorchServe provides the following APIs that allows you to manage models at runtime:</p>
<ol class="simple">
<li><p><a class="reference external" href="#register-a-model">Register a model</a></p></li>
<li><p><a class="reference external" href="#scale-workers">Increase/decrease number of workers for specific model</a></p></li>
<li><p><a class="reference external" href="#describe-model">Describe a model’s status</a></p></li>
<li><p><a class="reference external" href="#unregister-a-model">Unregister a model</a></p></li>
<li><p><a class="reference external" href="#list-models">List registered models</a></p></li>
<li><p><a class="reference external" href="#set-default-version">Set default version of a model</a></p></li>
</ol>
<p>The Management API listens on port 8081 and is only accessible from localhost by default. To change the default setting, see <a class="reference internal" href="configuration.html"><span class="doc">TorchServe Configuration</span></a>.</p>
<p>Similar to the <a class="reference internal" href="inference_api.html"><span class="doc">Inference API</span></a>, the Management API provides a <a class="reference external" href="#api-description">API description</a> to describe management APIs with the OpenAPI 3.0 specification.</p>
<div class="section" id="register-a-model">
<h2>Register a model<a class="headerlink" href="#register-a-model" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/models</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">url</span></code> - Model archive download url. Supports the following locations:</p>
<ul>
<li><p>a local model archive (.mar); the file must be in the <code class="docutils literal notranslate"><span class="pre">model_store</span></code> folder (and not in a subfolder).</p></li>
<li><p>a URI using the HTTP(s) protocol. TorchServe can download .mar files from the Internet.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">model_name</span></code> - the name of the model; this name will be used as {model_name} in other APIs as part of the path. If this parameter is not present, <code class="docutils literal notranslate"><span class="pre">modelName</span></code> in MANIFEST.json will be used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">handler</span></code> - the inference handler entry-point. This value will override <code class="docutils literal notranslate"><span class="pre">handler</span></code> in MANIFEST.json if present. <strong>NOTE: Make sure that the given <code class="docutils literal notranslate"><span class="pre">handler</span></code> is in the <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>. The format of handler is <code class="docutils literal notranslate"><span class="pre">module_name:method_name</span></code>.</strong></p></li>
<li><p>runtime - the runtime for the model custom service code. This value will override runtime in MANIFEST.json if present. The default value is <code class="docutils literal notranslate"><span class="pre">PYTHON</span></code>.</p></li>
<li><p>batch_size - the inference batch size. The default value is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p>max_batch_delay - the maximum delay for batch aggregation. The default value is 100 milliseconds.</p></li>
<li><p>initial_workers - the number of initial workers to create. The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>. TorchServe will not run inference until there is at least one work assigned.</p></li>
<li><p>synchronous - whether or not the creation of worker is synchronous. The default value is false. TorchServe will create new workers without waiting for acknowledgement that the previous worker is online.</p></li>
<li><p>response_timeout - If the model’s backend worker doesn’t respond with inference response within this timeout period, the worker will be deemed unresponsive and rebooted. The units is seconds. The default value is 120 seconds.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8081/models?url=https://&lt;s3_path&gt;/squeezenet_v1.1.mar&quot;</span>

<span class="o">{</span>
  <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;Model \&quot;squeezenet_v1.1\&quot; Version: 1.0 registered with 0 initial workers. Use scale workers API to add workers for the model.&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>You might want to create workers during registration. because creating initial workers might take some time,
you can choose between synchronous or asynchronous call to make sure initial workers are created properly.</p>
<p>The asynchronous call returns with HTTP code 202 before trying to create workers.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -v -X POST <span class="s2">&quot;http://localhost:8081/models?initial_workers=1&amp;synchronous=false&amp;url=https://&lt;s3_path&gt;/squeezenet_v1.1.mar&quot;</span>

&lt; HTTP/1.1 <span class="m">202</span> Accepted
&lt; content-type: application/json
&lt; x-request-id: 4dc54158-c6de-42aa-b5dd-ebcb5f721043
&lt; content-length: <span class="m">47</span>
&lt; connection: keep-alive
&lt; 
<span class="o">{</span>
  <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;Processing worker updates...&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The synchronous call returns with HTTP code 200 after all workers have been adjusted.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -v -X POST <span class="s2">&quot;http://localhost:8081/models?initial_workers=1&amp;synchronous=true&amp;url=https://&lt;s3_path&gt;/squeezenet_v1.1.mar&quot;</span>

&lt; HTTP/1.1 <span class="m">200</span> OK
&lt; content-type: application/json
&lt; x-request-id: ecd2e502-382f-4c3b-b425-519fbf6d3b85
&lt; content-length: <span class="m">89</span>
&lt; connection: keep-alive
&lt; 
<span class="o">{</span>
  <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;Model \&quot;squeezenet1_1\&quot; Version: 1.0 registered with 1 initial workers&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="scale-workers">
<h2>Scale workers<a class="headerlink" href="#scale-workers" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/models/{model_name}</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min_worker</span></code> - (optional) the minimum number of worker processes. TorchServe will try to maintain this minimum for specified model. The default value is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_worker</span></code> - (optional) the maximum number of worker processes. TorchServe will make no more that this number of workers for the specified model. The default is the same as the setting for <code class="docutils literal notranslate"><span class="pre">min_worker</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">number_gpu</span></code> - (optional) the number of GPU worker processes to create. The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>. If number_gpu exceeds the number of available GPUs, the rest of workers will run on CPU.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">synchronous</span></code> - whether or not the call is synchronous. The default value is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timeout</span></code> - the specified wait time for a worker to complete all pending requests. If exceeded, the work process will be terminated. Use <code class="docutils literal notranslate"><span class="pre">0</span></code> to terminate the backend worker process immediately. Use <code class="docutils literal notranslate"><span class="pre">-1</span></code> to wait infinitely. The default value is <code class="docutils literal notranslate"><span class="pre">-1</span></code>.</p></li>
</ul>
<p>Use the Scale Worker API to dynamically adjust the number of workers for any version of a model to better serve different inference request loads.</p>
<p>There are two different flavors of this API, synchronous and asynchronous.</p>
<p>The asynchronous call will return immediately with HTTP code 202:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -v -X PUT <span class="s2">&quot;http://localhost:8081/models/noop?min_worker=3&quot;</span>

&lt; HTTP/1.1 <span class="m">202</span> Accepted
&lt; content-type: application/json
&lt; x-request-id: 42adc58e-6956-4198-ad07-db6c620c4c1e
&lt; content-length: <span class="m">47</span>
&lt; connection: keep-alive
&lt; 
<span class="o">{</span>
  <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;Processing worker updates...&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The synchronous call returns with HTTP code 200 after all workers have been adjusted.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -v -X PUT <span class="s2">&quot;http://localhost:8081/models/noop?min_worker=3&amp;synchronous=true&quot;</span>

&lt; HTTP/1.1 <span class="m">200</span> OK
&lt; content-type: application/json
&lt; x-request-id: b72b1ea0-81c6-4cce-92c4-530d3cfe5d4a
&lt; content-length: <span class="m">63</span>
&lt; connection: keep-alive
&lt; 
<span class="o">{</span>
  <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;Workers scaled to 3 for model: noop&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>To scale workers of a specific version of a model use URI : /models/{model_name}/{version}
<code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/models/{model_name}/{version}</span></code></p>
<p>The following synchronous call will return after all workers for version “2.0” for model “noop” has be adjusted with HTTP code 200.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -v -X PUT <span class="s2">&quot;http://localhost:8081/models/noop/2.0?min_worker=3&amp;synchronous=true&quot;</span>

&lt; HTTP/1.1 <span class="m">200</span> OK
&lt; content-type: application/json
&lt; x-request-id: 3997ccd4-ae44-4570-b249-e361b08d3d47
&lt; content-length: <span class="m">77</span>
&lt; connection: keep-alive
&lt; 
<span class="o">{</span>
  <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;Workers scaled to 3 for model: noop, version: 2.0&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="describe-model">
<h2>Describe model<a class="headerlink" href="#describe-model" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/models/{model_name}</span></code></p>
<p>Use the Describe Model API to get detail runtime status of default version of a model:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl http://localhost:8081/models/noop
<span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">&quot;modelName&quot;</span>: <span class="s2">&quot;noop&quot;</span>,
      <span class="s2">&quot;modelVersion&quot;</span>: <span class="s2">&quot;1.0&quot;</span>,
      <span class="s2">&quot;modelUrl&quot;</span>: <span class="s2">&quot;noop.mar&quot;</span>,
      <span class="s2">&quot;engine&quot;</span>: <span class="s2">&quot;Torch&quot;</span>,
      <span class="s2">&quot;runtime&quot;</span>: <span class="s2">&quot;python&quot;</span>,
      <span class="s2">&quot;minWorkers&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;maxWorkers&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;batchSize&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;maxBatchDelay&quot;</span>: <span class="m">100</span>,
      <span class="s2">&quot;workers&quot;</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;9000&quot;</span>,
          <span class="s2">&quot;startTime&quot;</span>: <span class="s2">&quot;2018-10-02T13:44:53.034Z&quot;</span>,
          <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;READY&quot;</span>,
          <span class="s2">&quot;gpu&quot;</span>: false,
          <span class="s2">&quot;memoryUsage&quot;</span>: <span class="m">89247744</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>
<span class="o">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/models/{model_name}/{version}</span></code></p>
<p>Use the Describe Model API to get detail runtime status of specific version of a model:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl http://localhost:8081/models/noop/2.0
<span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">&quot;modelName&quot;</span>: <span class="s2">&quot;noop&quot;</span>,
      <span class="s2">&quot;modelVersion&quot;</span>: <span class="s2">&quot;2.0&quot;</span>,
      <span class="s2">&quot;modelUrl&quot;</span>: <span class="s2">&quot;noop_2.mar&quot;</span>,
      <span class="s2">&quot;engine&quot;</span>: <span class="s2">&quot;Torch&quot;</span>,
      <span class="s2">&quot;runtime&quot;</span>: <span class="s2">&quot;python&quot;</span>,
      <span class="s2">&quot;minWorkers&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;maxWorkers&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;batchSize&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;maxBatchDelay&quot;</span>: <span class="m">100</span>,
      <span class="s2">&quot;workers&quot;</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;9000&quot;</span>,
          <span class="s2">&quot;startTime&quot;</span>: <span class="s2">&quot;2018-10-02T13:44:53.034Z&quot;</span>,
          <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;READY&quot;</span>,
          <span class="s2">&quot;gpu&quot;</span>: false,
          <span class="s2">&quot;memoryUsage&quot;</span>: <span class="m">89247744</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>
<span class="o">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/models/{model_name}/all</span></code></p>
<p>Use the Describe Model API to get detail runtime status of all version of a model:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl http://localhost:8081/models/noop/all
<span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">&quot;modelName&quot;</span>: <span class="s2">&quot;noop&quot;</span>,
      <span class="s2">&quot;modelVersion&quot;</span>: <span class="s2">&quot;1.0&quot;</span>,
      <span class="s2">&quot;modelUrl&quot;</span>: <span class="s2">&quot;noop.mar&quot;</span>,
      <span class="s2">&quot;engine&quot;</span>: <span class="s2">&quot;Torch&quot;</span>,
      <span class="s2">&quot;runtime&quot;</span>: <span class="s2">&quot;python&quot;</span>,
      <span class="s2">&quot;minWorkers&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;maxWorkers&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;batchSize&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;maxBatchDelay&quot;</span>: <span class="m">100</span>,
      <span class="s2">&quot;workers&quot;</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;9000&quot;</span>,
          <span class="s2">&quot;startTime&quot;</span>: <span class="s2">&quot;2018-10-02T13:44:53.034Z&quot;</span>,
          <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;READY&quot;</span>,
          <span class="s2">&quot;gpu&quot;</span>: false,
          <span class="s2">&quot;memoryUsage&quot;</span>: <span class="m">89247744</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">&quot;modelName&quot;</span>: <span class="s2">&quot;noop&quot;</span>,
      <span class="s2">&quot;modelVersion&quot;</span>: <span class="s2">&quot;2.0&quot;</span>,
      <span class="s2">&quot;modelUrl&quot;</span>: <span class="s2">&quot;noop_2.mar&quot;</span>,
      <span class="s2">&quot;engine&quot;</span>: <span class="s2">&quot;Torch&quot;</span>,
      <span class="s2">&quot;runtime&quot;</span>: <span class="s2">&quot;python&quot;</span>,
      <span class="s2">&quot;minWorkers&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;maxWorkers&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;batchSize&quot;</span>: <span class="m">1</span>,
      <span class="s2">&quot;maxBatchDelay&quot;</span>: <span class="m">100</span>,
      <span class="s2">&quot;workers&quot;</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;9000&quot;</span>,
          <span class="s2">&quot;startTime&quot;</span>: <span class="s2">&quot;2018-10-02T13:44:53.034Z&quot;</span>,
          <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;READY&quot;</span>,
          <span class="s2">&quot;gpu&quot;</span>: false,
          <span class="s2">&quot;memoryUsage&quot;</span>: <span class="m">89247744</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>
<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="unregister-a-model">
<h2>Unregister a model<a class="headerlink" href="#unregister-a-model" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/models/{model_name}/{version}</span></code></p>
<p>Use the Unregister Model API to free up system resources by unregistering specific version of a model from TorchServe:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X DELETE http://localhost:8081/models/noop/1.0

<span class="o">{</span>
  <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;Model \&quot;noop\&quot; unregistered&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="list-models">
<h2>List models<a class="headerlink" href="#list-models" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/models</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">limit</span></code> - (optional) the maximum number of items to return. It is passed as a query parameter. The default value is <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">next_page_token</span></code> - (optional) queries for next page. It is passed as a query parameter. This value is return by a previous API call.</p></li>
</ul>
<p>Use the Models API to query default versions of current registered models:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl <span class="s2">&quot;http://localhost:8081/models&quot;</span>
</pre></div>
</div>
<p>This API supports pagination:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl <span class="s2">&quot;http://localhost:8081/models?limit=2&amp;next_page_token=2&quot;</span>

<span class="o">{</span>
  <span class="s2">&quot;nextPageToken&quot;</span>: <span class="s2">&quot;4&quot;</span>,
  <span class="s2">&quot;models&quot;</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">&quot;modelName&quot;</span>: <span class="s2">&quot;noop&quot;</span>,
      <span class="s2">&quot;modelUrl&quot;</span>: <span class="s2">&quot;noop-v1.0&quot;</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">&quot;modelName&quot;</span>: <span class="s2">&quot;noop_v0.1&quot;</span>,
      <span class="s2">&quot;modelUrl&quot;</span>: <span class="s2">&quot;noop-v0.1&quot;</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-description">
<h2>API Description<a class="headerlink" href="#api-description" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">OPTIONS</span> <span class="pre">/</span></code></p>
<p>To view a full list of inference and management APIs, you can use following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># To view all inference APIs:</span>
curl -X OPTIONS http://localhost:8080

<span class="c1"># To view all management APIs:</span>
curl -X OPTIONS http://localhost:8081
</pre></div>
</div>
<p>The out is OpenAPI 3.0.1 json format. You use it to generate client code, see <a class="reference external" href="https://swagger.io/swagger-codegen/">swagger codegen</a> for detail.</p>
<p>Example outputs of the Inference and Management APIs:</p>
<ul class="simple">
<li><p><a class="reference external" href="../frontend/server/src/test/resources/inference_open_api.json">Inference API description output</a></p></li>
<li><p><a class="reference external" href="../frontend/server/src/test/resources/management_open_api.json">Management API description output</a></p></li>
</ul>
</div>
<div class="section" id="set-default-version">
<h2>Set Default Version<a class="headerlink" href="#set-default-version" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/models/{model_name}/{version}/set-default</span></code></p>
<p>To set any registered version of a model as default version use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -v -X PUT http://localhost:8081/models/noop/2.0/set-default
</pre></div>
</div>
<p>The out is OpenAPI 3.0.1 json format. You use it to generate client code, see <a class="reference external" href="https://swagger.io/swagger-codegen/">swagger codegen</a> for detail.</p>
<p>Example outputs of the Inference and Management APIs:</p>
<ul class="simple">
<li><p><a class="reference external" href="../frontend/server/src/test/resources/inference_open_api.json">Inference API description output</a></p></li>
<li><p><a class="reference external" href="../frontend/server/src/test/resources/management_open_api.json">Management API description output</a></p></li>
</ul>
</div>
</div>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="metrics.html" class="btn btn-neutral float-right" title="TorchServe Metrics" accesskey="n" rel="next">Next <img src="_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="logging.html" class="btn btn-neutral" title="Logging in Torchserve" accesskey="p" rel="prev"><img src="_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, PyTorch Serve Contributors.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">Management API</a><ul>
<li><a class="reference internal" href="#register-a-model">Register a model</a></li>
<li><a class="reference internal" href="#scale-workers">Scale workers</a></li>
<li><a class="reference internal" href="#describe-model">Describe model</a></li>
<li><a class="reference internal" href="#unregister-a-model">Unregister a model</a></li>
<li><a class="reference internal" href="#list-models">List models</a></li>
<li><a class="reference internal" href="#api-description">API Description</a></li>
<li><a class="reference internal" href="#set-default-version">Set Default Version</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
         <script src="_static/jquery.js"></script>
         <script src="_static/underscore.js"></script>
         <script src="_static/doctools.js"></script>
         <script src="_static/language_data.js"></script>
         <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script>
         <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"></script>
         <script src="_static/katex_autorenderer.js"></script>
     

  

  <script type="text/javascript" src="_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <h2>Docs</h2>
          <p>Access comprehensive developer documentation for PyTorch</p>
          <a class="with-right-arrow" href="https://pytorch.org/docs/stable/index.html">View Docs</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Tutorials</h2>
          <p>Get in-depth tutorials for beginners and advanced developers</p>
          <a class="with-right-arrow" href="https://pytorch.org/tutorials">View Tutorials</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Resources</h2>
          <p>Find development resources and get your questions answered</p>
          <a class="with-right-arrow" href="https://pytorch.org/resources">View Resources</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://pytorch.org/" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/">PyTorch</a></li>
            <li><a href="https://pytorch.org/get-started">Get Started</a></li>
            <li><a href="https://pytorch.org/features">Features</a></li>
            <li><a href="https://pytorch.org/ecosystem">Ecosystem</a></li>
            <li><a href="https://pytorch.org/blog/">Blog</a></li>
            <li><a href="https://github.com/pytorch/pytorch/blob/master/CONTRIBUTING.md">Contributing</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/resources">Resources</a></li>
            <li><a href="https://pytorch.org/tutorials">Tutorials</a></li>
            <li><a href="https://pytorch.org/docs/stable/index.html">Docs</a></li>
            <li><a href="https://discuss.pytorch.org" target="_blank">Discuss</a></li>
            <li><a href="https://github.com/pytorch/pytorch/issues" target="_blank">Github Issues</a></li>
            <li><a href="https://pytorch.org/assets/brand-guidelines/PyTorch-Brand-Guidelines.pdf" target="_blank">Brand Guidelines</a></li>
          </ul>
        </div>

        <div class="footer-links-col follow-us-col">
          <ul>
            <li class="list-title">Stay Connected</li>
            <li>
              <div id="mc_embed_signup">
                <form
                  action="https://twitter.us14.list-manage.com/subscribe/post?u=75419c71fe0a935e53dfa4a3f&id=91d0dccd39"
                  method="post"
                  id="mc-embedded-subscribe-form"
                  name="mc-embedded-subscribe-form"
                  class="email-subscribe-form validate"
                  target="_blank"
                  novalidate>
                  <div id="mc_embed_signup_scroll" class="email-subscribe-form-fields-wrapper">
                    <div class="mc-field-group">
                      <label for="mce-EMAIL" style="display:none;">Email Address</label>
                      <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address">
                    </div>

                    <div id="mce-responses" class="clear">
                      <div class="response" id="mce-error-response" style="display:none"></div>
                      <div class="response" id="mce-success-response" style="display:none"></div>
                    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->

                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_75419c71fe0a935e53dfa4a3f_91d0dccd39" tabindex="-1" value=""></div>

                    <div class="clear">
                      <input type="submit" value="" name="subscribe" id="mc-embedded-subscribe" class="button email-subscribe-button">
                    </div>
                  </div>
                </form>
              </div>

            </li>
          </ul>

          <div class="footer-social-icons">
            <a href="https://www.facebook.com/pytorch" target="_blank" class="facebook"></a>
            <a href="https://twitter.com/pytorch" target="_blank" class="twitter"></a>
            <a href="https://www.youtube.com/pytorch" target="_blank" class="youtube"></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/features">Features</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/hub">PyTorch Hub</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li>
            <a href="https://pytorch.org/docs/stable/index.html">Docs</a>
          </li>

          <li>
            <a href="https://pytorch.org/resources">Resources</a>
          </li>

          <li>
            <a href="https://github.com/pytorch/pytorch">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>